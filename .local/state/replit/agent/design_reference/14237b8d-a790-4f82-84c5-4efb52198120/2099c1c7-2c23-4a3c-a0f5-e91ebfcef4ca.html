<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MediScan - MRI Cancer Detection Platform</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
    tailwind.config = {
        theme: {
            extend: {
                borderRadius: {
                    lg: "var(--radius)",
                    md: "calc(var(--radius) - 2px)", 
                    sm: "calc(var(--radius) - 4px)",
                },
                colors: {
                    background: "var(--background)",
                    foreground: "var(--foreground)",
                    card: {
                        DEFAULT: "var(--card)",
                        foreground: "var(--card-foreground)",
                    },
                    popover: {
                        DEFAULT: "var(--popover)",
                        foreground: "var(--popover-foreground)",
                    },
                    primary: {
                        DEFAULT: "var(--primary)",
                        foreground: "var(--primary-foreground)",
                    },
                    secondary: {
                        DEFAULT: "var(--secondary)",
                        foreground: "var(--secondary-foreground)",
                    },
                    muted: {
                        DEFAULT: "var(--muted)",
                        foreground: "var(--muted-foreground)",
                    },
                    accent: {
                        DEFAULT: "var(--accent)",
                        foreground: "var(--accent-foreground)",
                    },
                    destructive: {
                        DEFAULT: "var(--destructive)",
                        foreground: "var(--destructive-foreground)",
                    },
                    border: "var(--border)",
                    input: "var(--input)",
                    ring: "var(--ring)",
                },
                fontFamily: {
                    sans: ["Inter", "system-ui", "sans-serif"],
                }
            },
        }
    };
    </script>
    <style>
        :root {
            --background: hsl(0 0% 100%);
            --foreground: hsl(222 84% 5%);
            --card: hsl(0 0% 100%);
            --card-foreground: hsl(222 84% 5%);
            --popover: hsl(0 0% 100%);
            --popover-foreground: hsl(222 84% 5%);
            --primary: hsl(221 83% 53%);
            --primary-foreground: hsl(210 40% 98%);
            --secondary: hsl(215 16% 47%);
            --secondary-foreground: hsl(222 84% 5%);
            --muted: hsl(210 40% 96%);
            --muted-foreground: hsl(215 16% 47%);
            --accent: hsl(210 40% 96%);
            --accent-foreground: hsl(222 84% 5%);
            --destructive: hsl(0 84% 60%);
            --destructive-foreground: hsl(210 40% 98%);
            --border: hsl(214 32% 91%);
            --input: hsl(214 32% 91%);
            --ring: hsl(221 83% 53%);
            --radius: 8px;
        }
        .drag-over {
            @apply border-primary bg-primary/5;
        }
        .upload-progress {
            transition: width 0.3s ease-in-out;
        }
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');
    </style>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body class="bg-background text-foreground font-sans">
    <!-- Navigation Header -->
    <!-- @COMPONENT: NavigationHeader -->
    <header class="bg-card border-b border-border shadow-sm sticky top-0 z-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-16">
                <div class="flex items-center space-x-3">
                    <div class="w-10 h-10 bg-primary rounded-lg flex items-center justify-center">
                        <i class="fas fa-brain text-primary-foreground text-xl"></i>
                    </div>
                    <div>
                        <h1 class="text-xl font-bold text-foreground">MediScan</h1>
                        <p class="text-xs text-muted-foreground">MRI Cancer Detection</p>
                    </div>
                </div>
                <nav class="hidden md:flex items-center space-x-6">
                    <a href="#" class="text-sm font-medium text-primary border-b-2 border-primary pb-1">Upload</a>
                    <a href="#" class="text-sm font-medium text-muted-foreground hover:text-foreground transition-colors">Results</a>
                    <a href="#" class="text-sm font-medium text-muted-foreground hover:text-foreground transition-colors">History</a>
                    <a href="#" class="text-sm font-medium text-muted-foreground hover:text-foreground transition-colors">Settings</a>
                </nav>
                <div class="flex items-center space-x-3">
                    <button class="p-2 text-muted-foreground hover:text-foreground hover:bg-accent rounded-md transition-colors">
                        <i class="fas fa-bell"></i>
                    </button>
                    <div class="w-8 h-8 bg-primary rounded-full flex items-center justify-center">
                        <i class="fas fa-user text-primary-foreground text-sm"></i>
                    </div>
                </div>
            </div>
        </div>
    </header>
    <!-- @END_COMPONENT: NavigationHeader -->

    <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
        <div class="grid grid-cols-1 lg:grid-cols-12 gap-8">
            <!-- Upload Section -->
            <!-- @COMPONENT: UploadSection -->
            <div class="lg:col-span-8">
                <div class="bg-card rounded-xl border border-border shadow-sm overflow-hidden">
                    <div class="p-6 border-b border-border">
                        <div class="flex items-center space-x-3">
                            <div class="w-8 h-8 bg-primary/10 rounded-lg flex items-center justify-center">
                                <i class="fas fa-cloud-upload-alt text-primary"></i>
                            </div>
                            <div>
                                <h2 class="text-lg font-semibold text-foreground">MRI Image Upload</h2>
                                <p class="text-sm text-muted-foreground">Upload DICOM or standard image files for analysis</p>
                            </div>
                        </div>
                    </div>

                    <!-- Drag and Drop Area -->
                    <!-- @COMPONENT: FileUploadArea [accepts DICOM, JPEG, PNG files] -->
                    <div class="p-6">
                        <div id="upload-area" class="border-2 border-dashed border-border hover:border-primary transition-colors rounded-xl p-12 text-center bg-muted/20 hover:bg-primary/5 cursor-pointer" data-implementation="Implement drag-and-drop file upload">
                            <div class="space-y-4">
                                <div class="w-16 h-16 bg-primary/10 rounded-full flex items-center justify-center mx-auto">
                                    <i class="fas fa-file-medical text-primary text-2xl"></i>
                                </div>
                                <div>
                                    <h3 class="text-lg font-medium text-foreground mb-2">Drop MRI files here</h3>
                                    <p class="text-muted-foreground text-sm mb-4">
                                        Supports DICOM (.dcm), JPEG (.jpg), PNG (.png) files up to 50MB each
                                    </p>
                                    <button class="inline-flex items-center px-4 py-2 bg-primary text-primary-foreground rounded-lg font-medium hover:bg-primary/90 transition-colors" data-event="click:handleFileSelect">
                                        <i class="fas fa-plus mr-2"></i>
                                        Select Files
                                    </button>
                                </div>
                                <p class="text-xs text-muted-foreground">
                                    Maximum 10 files per upload • All data encrypted and HIPAA compliant
                                </p>
                            </div>
                        </div>
                        <input type="file" id="file-input" class="hidden" multiple accept=".dcm,.jpg,.jpeg,.png" data-implementation="Handle file selection and validation">
                    </div>

                    <!-- Upload Progress Section -->
                    <!-- @STATE: uploadedFiles:array = [] -->
                    <!-- @COMPONENT: UploadProgressList [files with progress tracking] -->
                    <div id="upload-progress" class="px-6 pb-6 space-y-3">
                        <!-- Example uploaded file - this would be populated dynamically -->
                        <div class="bg-accent/50 border border-border rounded-lg p-4" data-mock="true">
                            <div class="flex items-center justify-between mb-2">
                                <div class="flex items-center space-x-3">
                                    <div class="w-8 h-8 bg-emerald-100 rounded-lg flex items-center justify-center">
                                        <i class="fas fa-file-medical text-emerald-600"></i>
                                    </div>
                                    <div>
                                        <p class="font-medium text-sm text-foreground" data-bind="file.originalName">patient_001_brain_mri.dcm</p>
                                        <p class="text-xs text-muted-foreground" data-bind="file.size">2.4 MB</p>
                                    </div>
                                </div>
                                <span class="inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-emerald-100 text-emerald-800">
                                    <i class="fas fa-check-circle mr-1"></i>
                                    Uploaded
                                </span>
                            </div>
                            <div class="w-full bg-border rounded-full h-2">
                                <div class="bg-emerald-500 h-2 rounded-full upload-progress" style="width: 100%" data-bind="file.progress"></div>
                            </div>
                        </div>

                        <div class="bg-accent/50 border border-border rounded-lg p-4" data-mock="true">
                            <div class="flex items-center justify-between mb-2">
                                <div class="flex items-center space-x-3">
                                    <div class="w-8 h-8 bg-amber-100 rounded-lg flex items-center justify-center">
                                        <i class="fas fa-file-medical text-amber-600"></i>
                                    </div>
                                    <div>
                                        <p class="font-medium text-sm text-foreground" data-bind="file.originalName">patient_002_t1_weighted.dcm</p>
                                        <p class="text-xs text-muted-foreground" data-bind="file.size">3.1 MB</p>
                                    </div>
                                </div>
                                <span class="inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-amber-100 text-amber-800">
                                    <i class="fas fa-clock mr-1"></i>
                                    Processing
                                </span>
                            </div>
                            <div class="w-full bg-border rounded-full h-2">
                                <div class="bg-amber-500 h-2 rounded-full upload-progress" style="width: 75%" data-bind="file.progress"></div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Patient Information Section -->
                <!-- @COMPONENT: PatientInfoForm [optional metadata] -->
                <div class="bg-card rounded-xl border border-border shadow-sm mt-6">
                    <div class="p-6 border-b border-border">
                        <div class="flex items-center space-x-3">
                            <div class="w-8 h-8 bg-secondary/10 rounded-lg flex items-center justify-center">
                                <i class="fas fa-user-md text-secondary"></i>
                            </div>
                            <div>
                                <h3 class="text-lg font-semibold text-foreground">Patient Information</h3>
                                <p class="text-sm text-muted-foreground">Optional metadata for enhanced analysis</p>
                            </div>
                        </div>
                    </div>
                    <div class="p-6">
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <div>
                                <label class="block text-sm font-medium text-foreground mb-2">Patient ID</label>
                                <input type="text" class="w-full px-3 py-2 border border-input rounded-lg focus:ring-2 focus:ring-ring focus:border-ring bg-background" placeholder="Enter patient ID" data-implementation="Store in MongoDB metadata">
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-foreground mb-2">Age</label>
                                <input type="number" class="w-full px-3 py-2 border border-input rounded-lg focus:ring-2 focus:ring-ring focus:border-ring bg-background" placeholder="Age">
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-foreground mb-2">Gender</label>
                                <select class="w-full px-3 py-2 border border-input rounded-lg focus:ring-2 focus:ring-ring focus:border-ring bg-background">
                                    <option value="">Select gender</option>
                                    <option value="male">Male</option>
                                    <option value="female">Female</option>
                                    <option value="other">Other</option>
                                </select>
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-foreground mb-2">Scan Type</label>
                                <select class="w-full px-3 py-2 border border-input rounded-lg focus:ring-2 focus:ring-ring focus:border-ring bg-background">
                                    <option value="">Select scan type</option>
                                    <option value="t1">T1-weighted</option>
                                    <option value="t2">T2-weighted</option>
                                    <option value="flair">FLAIR</option>
                                    <option value="dwi">Diffusion-weighted</option>
                                </select>
                            </div>
                            <div class="md:col-span-2">
                                <label class="block text-sm font-medium text-foreground mb-2">Clinical Notes</label>
                                <textarea class="w-full px-3 py-2 border border-input rounded-lg focus:ring-2 focus:ring-ring focus:border-ring bg-background" rows="3" placeholder="Any relevant clinical information..."></textarea>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- @END_COMPONENT: UploadSection -->

            <!-- Status & Actions Sidebar -->
            <!-- @COMPONENT: StatusSidebar -->
            <div class="lg:col-span-4 space-y-6">
                <!-- Analysis Status -->
                <div class="bg-card rounded-xl border border-border shadow-sm">
                    <div class="p-6 border-b border-border">
                        <div class="flex items-center space-x-3">
                            <div class="w-8 h-8 bg-emerald-100 rounded-lg flex items-center justify-center">
                                <i class="fas fa-chart-line text-emerald-600"></i>
                            </div>
                            <div>
                                <h3 class="text-lg font-semibold text-foreground">Analysis Status</h3>
                                <p class="text-sm text-muted-foreground">Current processing overview</p>
                            </div>
                        </div>
                    </div>
                    <div class="p-6 space-y-4">
                        <div class="flex justify-between items-center">
                            <span class="text-sm text-foreground">Files Uploaded</span>
                            <span class="text-sm font-medium text-foreground" data-bind="uploadStats.uploaded">2</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-sm text-foreground">Processing</span>
                            <span class="text-sm font-medium text-amber-600" data-bind="uploadStats.processing">1</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-sm text-foreground">Completed</span>
                            <span class="text-sm font-medium text-emerald-600" data-bind="uploadStats.completed">1</span>
                        </div>
                        <div class="pt-4 border-t border-border">
                            <button class="w-full bg-primary text-primary-foreground py-2 px-4 rounded-lg font-medium hover:bg-primary/90 transition-colors" data-event="click:startAnalysis" data-implementation="Trigger ML processing pipeline">
                                <i class="fas fa-play mr-2"></i>
                                Start Analysis
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Recent Activity -->
                <div class="bg-card rounded-xl border border-border shadow-sm">
                    <div class="p-6 border-b border-border">
                        <div class="flex items-center space-x-3">
                            <div class="w-8 h-8 bg-secondary/10 rounded-lg flex items-center justify-center">
                                <i class="fas fa-history text-secondary"></i>
                            </div>
                            <div>
                                <h3 class="text-lg font-semibold text-foreground">Recent Activity</h3>
                                <p class="text-sm text-muted-foreground">Latest uploads and results</p>
                            </div>
                        </div>
                    </div>
                    <div class="p-6">
                        <!-- @MAP: recentActivity.map(activity => ( -->
                        <div class="space-y-4" data-mock="true">
                            <div class="flex items-start space-x-3">
                                <div class="w-6 h-6 bg-emerald-100 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5">
                                    <i class="fas fa-check text-emerald-600 text-xs"></i>
                                </div>
                                <div class="flex-1 min-w-0">
                                    <p class="text-sm text-foreground">Analysis completed for <span class="font-medium">patient_001_brain_mri.dcm</span></p>
                                    <p class="text-xs text-muted-foreground">2 minutes ago</p>
                                </div>
                            </div>
                            <div class="flex items-start space-x-3">
                                <div class="w-6 h-6 bg-amber-100 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5">
                                    <i class="fas fa-clock text-amber-600 text-xs"></i>
                                </div>
                                <div class="flex-1 min-w-0">
                                    <p class="text-sm text-foreground">Processing started for <span class="font-medium">patient_002_t1_weighted.dcm</span></p>
                                    <p class="text-xs text-muted-foreground">5 minutes ago</p>
                                </div>
                            </div>
                            <div class="flex items-start space-x-3">
                                <div class="w-6 h-6 bg-primary/20 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5">
                                    <i class="fas fa-upload text-primary text-xs"></i>
                                </div>
                                <div class="flex-1 min-w-0">
                                    <p class="text-sm text-foreground">File uploaded successfully</p>
                                    <p class="text-xs text-muted-foreground">8 minutes ago</p>
                                </div>
                            </div>
                        </div>
                        <!-- @END_MAP )) -->
                    </div>
                </div>

                <!-- ML Processing Placeholder -->
                <!-- @FUNCTIONALITY: This section will integrate with ML processing pipeline -->
                <div class="bg-card rounded-xl border border-border shadow-sm">
                    <div class="p-6 border-b border-border">
                        <div class="flex items-center space-x-3">
                            <div class="w-8 h-8 bg-purple-100 rounded-lg flex items-center justify-center">
                                <i class="fas fa-robot text-purple-600"></i>
                            </div>
                            <div>
                                <h3 class="text-lg font-semibold text-foreground">AI Analysis</h3>
                                <p class="text-sm text-muted-foreground">Machine learning insights</p>
                            </div>
                        </div>
                    </div>
                    <div class="p-6 text-center">
                        <div class="w-16 h-16 bg-muted rounded-full flex items-center justify-center mx-auto mb-4">
                            <i class="fas fa-brain text-muted-foreground text-2xl"></i>
                        </div>
                        <h4 class="font-medium text-foreground mb-2">ML Model Integration Pending</h4>
                        <p class="text-sm text-muted-foreground mb-4">
                            Cancer detection algorithms will be integrated here. The platform is ready for ML training and inference pipelines.
                        </p>
                        <div class="bg-accent/50 border border-border rounded-lg p-3">
                            <p class="text-xs text-muted-foreground">
                                <i class="fas fa-info-circle mr-1"></i>
                                Ready for TensorFlow/PyTorch integration
                            </p>
                        </div>
                    </div>
                </div>
            </div>
            <!-- @END_COMPONENT: StatusSidebar -->
        </div>

        <!-- Results Preview Section -->
        <!-- @COMPONENT: ResultsPreview [placeholder for ML results] -->
        <div class="mt-8">
            <div class="bg-card rounded-xl border border-border shadow-sm">
                <div class="p-6 border-b border-border">
                    <div class="flex items-center justify-between">
                        <div class="flex items-center space-x-3">
                            <div class="w-8 h-8 bg-emerald-100 rounded-lg flex items-center justify-center">
                                <i class="fas fa-chart-bar text-emerald-600"></i>
                            </div>
                            <div>
                                <h3 class="text-lg font-semibold text-foreground">Analysis Results</h3>
                                <p class="text-sm text-muted-foreground">AI-powered cancer detection findings</p>
                            </div>
                        </div>
                        <button class="text-sm text-primary hover:text-primary/80 font-medium" data-event="click:viewAllResults">
                            View All <i class="fas fa-arrow-right ml-1"></i>
                        </button>
                    </div>
                </div>
                <div class="p-6">
                    <!-- Example result - this would be populated by ML processing -->
                    <div class="grid grid-cols-1 lg:grid-cols-2 gap-6" data-mock="true">
                        <div class="space-y-4">
                            <div class="bg-emerald-50 border border-emerald-200 rounded-lg p-4">
                                <div class="flex items-center space-x-3 mb-3">
                                    <div class="w-8 h-8 bg-emerald-100 rounded-lg flex items-center justify-center">
                                        <i class="fas fa-shield-alt text-emerald-600"></i>
                                    </div>
                                    <div>
                                        <h4 class="font-medium text-emerald-900">No Anomalies Detected</h4>
                                        <p class="text-sm text-emerald-700">patient_001_brain_mri.dcm</p>
                                    </div>
                                </div>
                                <div class="space-y-2">
                                    <div class="flex justify-between text-sm">
                                        <span class="text-emerald-700">Confidence Score</span>
                                        <span class="font-medium text-emerald-900">94.2%</span>
                                    </div>
                                    <div class="w-full bg-emerald-200 rounded-full h-2">
                                        <div class="bg-emerald-500 h-2 rounded-full" style="width: 94.2%"></div>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="bg-amber-50 border border-amber-200 rounded-lg p-4">
                                <div class="flex items-center space-x-3 mb-3">
                                    <div class="w-8 h-8 bg-amber-100 rounded-lg flex items-center justify-center">
                                        <i class="fas fa-exclamation-triangle text-amber-600"></i>
                                    </div>
                                    <div>
                                        <h4 class="font-medium text-amber-900">Processing in Progress</h4>
                                        <p class="text-sm text-amber-700">patient_002_t1_weighted.dcm</p>
                                    </div>
                                </div>
                                <div class="text-sm text-amber-700">
                                    Estimated completion: 2-3 minutes
                                </div>
                            </div>
                        </div>
                        
                        <div class="space-y-4">
                            <!-- Medical image preview placeholder -->
                            <div class="bg-muted rounded-lg p-4 text-center">
                                <div class="w-full h-48 bg-secondary/10 rounded-lg flex items-center justify-center mb-3">
                                    <!-- Brain MRI scan visualization placeholder -->
                                    <div class="text-center">
                                        <i class="fas fa-image text-muted-foreground text-3xl mb-2"></i>
                                        <p class="text-sm text-muted-foreground">MRI Scan Preview</p>
                                        <p class="text-xs text-muted-foreground">DICOM viewer integration ready</p>
                                    </div>
                                </div>
                                <div class="flex space-x-2">
                                    <button class="flex-1 px-3 py-2 bg-primary text-primary-foreground text-sm rounded-lg hover:bg-primary/90 transition-colors" data-implementation="Integrate DICOM viewer library">
                                        <i class="fas fa-expand-alt mr-2"></i>View Full Scan
                                    </button>
                                    <button class="flex-1 px-3 py-2 bg-secondary text-secondary-foreground text-sm rounded-lg hover:bg-secondary/90 transition-colors" data-implementation="Generate PDF report">
                                        <i class="fas fa-download mr-2"></i>Download Report
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- @END_COMPONENT: ResultsPreview -->
    </main>

    <!-- Footer -->
    <footer class="bg-card border-t border-border mt-12">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
            <div class="text-center text-sm text-muted-foreground">
                <p>&copy; 2024 MediScan. HIPAA Compliant • FDA Guidelines Ready • Secure Medical Platform</p>
            </div>
        </div>
    </footer>

    <script>
        (function() {
            // File upload drag and drop functionality
            // TODO: Implement complete file upload logic with progress tracking
            const uploadArea = document.getElementById('upload-area');
            const fileInput = document.getElementById('file-input');

            if (uploadArea && fileInput) {
                // Drag and drop handlers
                uploadArea.addEventListener('dragover', (e) => {
                    e.preventDefault();
                    uploadArea.classList.add('drag-over');
                });

                uploadArea.addEventListener('dragleave', (e) => {
                    e.preventDefault();
                    uploadArea.classList.remove('drag-over');
                });

                uploadArea.addEventListener('drop', (e) => {
                    e.preventDefault();
                    uploadArea.classList.remove('drag-over');
                    const files = e.dataTransfer.files;
                    // TODO: Handle dropped files, validate file types, show progress
                    console.log('Files dropped:', files);
                });

                // Click to upload
                uploadArea.addEventListener('click', () => {
                    fileInput.click();
                });

                fileInput.addEventListener('change', (e) => {
                    const files = e.target.files;
                    // TODO: Process selected files, update UI with progress bars
                    console.log('Files selected:', files);
                });
            }

            // Mock progress update for demonstration
            // TODO: Replace with real API calls to backend endpoints
            function updateUploadProgress() {
                const progressBars = document.querySelectorAll('.upload-progress');
                progressBars.forEach((bar, index) => {
                    // Simulate progress updates
                    if (index === 1) { // Processing file
                        let currentWidth = parseInt(bar.style.width);
                        if (currentWidth < 100) {
                            bar.style.width = Math.min(currentWidth + 5, 100) + '%';
                        }
                    }
                });
            }

            // Simulate progress updates every 2 seconds
            setInterval(updateUploadProgress, 2000);

            // TODO: Implement API integration
            // - POST /api/upload for file uploads
            // - GET /api/status/:id for checking processing status
            // - GET /api/results/:id for retrieving analysis results
            // - WebSocket connections for real-time status updates
        })();
    </script>
</body>
</html>